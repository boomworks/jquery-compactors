/*

 jQuery compactors plugin

 Copyright (c) 2010 Boomworks <http://boomworks.com.au/>
 Author: Lindsay Evans
 Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
*/
(function(c){c.fn.compactors=function(f){var b=c.extend({},c.fn.compactors.defaults,f);return this.each(function(e){var d=c(this);$container=d.parent(b.parent_container_selector);$container.attr("role","tablist").attr("aria-multiselectable","true");d.addClass(b.enabled_class_name).bind({open:function(){d.removeClass(b.closed_class_name).addClass(b.opened_class_name).find(b.content_selector).show(b.animation_speed).attr("aria-expanded","true")},close:function(){d.removeClass(b.opened_class_name).addClass(b.closed_class_name).find(b.content_selector).hide(b.animation_speed).attr("aria-expanded",
"false")}}).filter(b.initially_open_selector).trigger("open").end().not(b.initially_open_selector).trigger("close").end().find(b.trigger_selector).attr("tabindex",0).attr("role","tab").attr("aria-controls","jq-compactor-content-"+e).bind({"click keypress":function(a){if(a.type==="click")d.trigger(d.hasClass(b.opened_class_name)?"close":"open");else if(a.type==="keypress"&&(a.keyCode===39||a.keyCode===40)){a=d.next(b.compactor_selector);a.length||(a=$container.find(b.compactor_selector).first());a.find(b.trigger_selector).focus()}else if(a.type===
"keypress"&&(a.keyCode===37||a.keyCode===38)){a=d.prev(b.compactor_selector);a.length||(a=$container.find(b.compactor_selector).last());a.find(b.trigger_selector).focus()}else if(a.type==="keypress"&&(a.keyCode===10||a.keyCode===13||a.charCode===32))d.trigger(d.hasClass(b.opened_class_name)?"close":"open")},mouseenter:function(){c(this).addClass(b.hover_class_name)},mouseleave:function(){c(this).removeClass(b.hover_class_name)}}).end().find(b.content_selector).bind({keypress:function(a){if(a.type===
"keypress"&&a.ctrlKey&&(a.keyCode===37||a.keyCode===38))c(this).parents(b.compactor_selector).find(b.trigger_selector).focus();else if(a.type==="keypress"&&a.ctrlKey&&a.keyCode===33){a=c(this).parents(b.compactor_selector).prev(b.compactor_selector);a.length||(a=$container.find(b.compactor_selector).last());a.find(b.trigger_selector).focus();return false}else if(a.type==="keypress"&&a.ctrlKey&&a.keyCode===34){a=c(this).parents(b.compactor_selector).next(b.compactor_selector);a.length||(a=$container.find(b.compactor_selector).first());
a.find(b.trigger_selector).focus();return false}}}).attr("role","tabpanel").attr("id","jq-compactor-content-"+e)})};c.fn.compactors.defaults={parent_container_selector:"",compactor_selector:".compactor",trigger_selector:".trigger",content_selector:".content",initially_open_selector:"",enabled_class_name:"enabled",opened_class_name:"opened",closed_class_name:"closed",hover_class_name:"hover",animation_speed:null}})(jQuery);
